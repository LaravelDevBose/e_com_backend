(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{44:function(t,a,e){"use strict";e.r(a);var s=e(0);function i(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function o(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?i(e,!0).forEach((function(a){r(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function r(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var n={name:"AdminAccountPage",data:function(){return{formData:{id:"",full_name:"",user_name:"",email:"",phone_no:"",admin_role:3,admin_status:!1,password:"",password_confirmation:""},btnDisabled:!1,is_edit:!1,roles:[{value:1,text:"Super Admin"},{value:2,text:"Admin"},{value:3,text:"Manager"}]}},mounted:function(){this.getAdminList()},methods:o({},Object(s.b)(["getAdminList","storeAdminInfo","updateAdminInfo","deleteAdminAccount"]),{manipulateAdminData:function(){var t=this;this.is_edit?this.updateAdminInfo(this.formData).then((function(a){void 0!==a.code&&200===a.code?(Notify.success(a.message),t.is_edit=!1,t.formReset()):"validation"===a.status?Notify.validation(a.message):Notify.error(a.message)})).catch((function(t){Notify.info(t.message)})):this.storeAdminInfo(this.formData).then((function(a){void 0!==a.code&&200===a.code?(Notify.success(a.message),t.formReset()):"validation"===a.status?Notify.validation(a.message):Notify.error(a.message)})).catch((function(t){Notify.info(t.message)}))},formReset:function(){this.formData.id="",this.formData.full_name="",this.formData.user_name="",this.formData.email="",this.formData.phone_no="",this.formData.admin_role="",this.formData.password="",this.formData.password_confirmation="",this.formData.admin_status=!1},editAdmin:function(t){var a=this;this.is_edit=!0,this.adminList.filter((function(e){e.id===t&&(a.formData.id=e.id,a.formData.full_name=e.fullName,a.formData.user_name=e.userName,a.formData.email=e.email,a.formData.phone_no=e.phoneNo,a.formData.admin_role=e.role,a.formData.admin_status=1===e.status)}))},adminDelete:function(t){if(!confirm("Are You Sure. Want to Delete.?"))return!1;this.deleteAdminAccount(t).then((function(t){void 0!==t.code&&200===t.code?Notify.success(t.message):Notify.error(t.message)})).catch((function(t){Notify.info(t.message)}))}}),computed:o({},Object(s.c)(["adminList"]),{checkFormData:function(){return JSON.parse(JSON.stringify(this.formData))}}),watch:{checkFormData:{handler:function(t,a){a!==t&&(this.btnDisabled=!1)},deep:!0}}},l=e(2),m=Object(l.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"panel panel-info"},[t._m(0),t._v(" "),e("div",{staticClass:"panel-body"},[e("form",{attrs:{action:""},on:{submit:function(a){return a.preventDefault(),t.manipulateAdminData(a)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5 col-md-offset-1"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Admin Name:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.full_name,expression:"formData.full_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Full Name",required:""},domProps:{value:t.formData.full_name},on:{input:function(a){a.target.composing||t.$set(t.formData,"full_name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("User Name:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.user_name,expression:"formData.user_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"User Name",required:""},domProps:{value:t.formData.user_name},on:{input:function(a){a.target.composing||t.$set(t.formData,"user_name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Email:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.formData.email},on:{input:function(a){a.target.composing||t.$set(t.formData,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Phone No.:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone_no,expression:"formData.phone_no"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone No",required:""},domProps:{value:t.formData.phone_no},on:{input:function(a){a.target.composing||t.$set(t.formData,"phone_no",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Role:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.admin_role,expression:"formData.admin_role"}],staticClass:"form-control",attrs:{name:"admin_role",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"admin_role",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Super Admin")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Admin")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Sub Admin")])])]),t._v(" "),t.is_edit?t._e():e("div",[e("div",{staticClass:"form-group"},[e("label",[t._v("Password:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.formData.password},on:{input:function(a){a.target.composing||t.$set(t.formData,"password",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Confirm Password:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password_confirmation,expression:"formData.password_confirmation"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Confirm Password",required:""},domProps:{value:t.formData.password_confirmation},on:{input:function(a){a.target.composing||t.$set(t.formData,"password_confirmation",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"checkbox-style",attrs:{for:"admin_status"}},[t.formData.admin_status?e("span",{staticClass:"text-bold text-success"},[t._v("Active")]):e("span",{staticClass:"text-bold text-warning"},[t._v("Block")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.admin_status,expression:"formData.admin_status"}],attrs:{type:"checkbox",id:"admin_status"},domProps:{checked:t.formData.admin_status,checked:Array.isArray(t.formData.admin_status)?t._i(t.formData.admin_status,null)>-1:t.formData.admin_status},on:{change:function(a){var e=t.formData.admin_status,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=t._i(e,null);s.checked?o<0&&t.$set(t.formData,"admin_status",e.concat([null])):o>-1&&t.$set(t.formData,"admin_status",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.formData,"admin_status",i)}}}),t._v(" "),e("span",{staticClass:"checkmark"})])]),t._v(" "),e("div",{staticClass:"text-right form-group"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.btnDisabled}},[t.is_edit?e("span",[t._v("Update Admin")]):e("span",[t._v("Save Admin")]),t._v(" "),e("i",{staticClass:"icon-arrow-right14 position-right"})])])])])])])]),t._v(" "),e("div",{staticClass:"panel panel-flat"},[t._m(1),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-sm"},[t._m(2),t._v(" "),e("tbody",t._l(t.adminList,(function(a,s){return t.adminList?e("tr",{key:a.id},[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[e("span",{staticClass:"text text-bold"},[t._v(" "+t._s(a.fullName))])]),t._v(" "),e("td",[e("span",{staticClass:"text text-bold"},[t._v(" "+t._s(a.userName))])]),t._v(" "),e("td",[e("span",{staticClass:"text text-bold"},[t._v(" "+t._s(a.email))])]),t._v(" "),e("td",[e("span",{staticClass:"text text-bold"},[t._v(" "+t._s(a.phoneNo))])]),t._v(" "),e("td",{staticClass:"text text-center"},[1==a.role?e("span",{staticClass:"badge badge-success"},[t._v(t._s(a.role_label))]):2==a.role?e("span",{staticClass:"badge badge-info"},[t._v(t._s(a.role_label))]):e("span",{staticClass:"badge badge-primary"},[t._v(t._s(a.role_label))])]),t._v(" "),e("td",{staticClass:"text text-center"},[1===a.status?e("span",{staticClass:"badge badge-success"},[t._v("Active")]):e("span",{staticClass:"badge badge-warning"},[t._v("Block")])]),t._v(" "),e("td",{staticClass:"text text-center"},[e("ul",{staticClass:"icons-list"},[e("li",{staticClass:"text-primary-600"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editAdmin(a.id)}}},[e("i",{staticClass:"icon-pencil7"})])]),t._v(" "),e("li",{staticClass:"text-danger-600"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.adminDelete(a.id)}}},[e("i",{staticClass:"icon-trash"})])])])])]):t._e()})),0)])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h5",{staticClass:"panel-title"},[this._v("Admin Account")]),this._v(" "),a("div",{staticClass:"heading-elements"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h5",{staticClass:"panel-title"},[this._v("Admin List")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),e("th",[t._v("Full Name")]),t._v(" "),e("th",[t._v("Username")]),t._v(" "),e("th",[t._v("Email")]),t._v(" "),e("th",[t._v("Phone No")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Role")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Status")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Action")])])])}],!1,null,"2a8075b8",null);a.default=m.exports}}]);