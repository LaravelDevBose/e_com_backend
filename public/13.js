(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{50:function(e,t,a){"use strict";a.r(t);a(21);var r=a(0),i=a(5),o=a(6),s=a.n(o);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(a,!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={name:"CategoryCreatePage",components:{ImageCropper:i.default,Treeselect:s.a},props:{categoryid:{type:[Number,String],default:""},isedit:{type:[Number,Boolean],default:!1}},data:function(){return{formValue:{id:"",parent_id:null,category_name:null,category_status:!1,banner_id:"",in_header:1,icon_id:""},normalizer:function(e){return{id:e.id,label:e.label,children:e.children}},cropperData:{width:1200,height:400,placeholder:"Choose a Banner image (1200 X 400)",file_size:1.5,init_image:"",folder:"category",modal_type:4,modal_id:"banner_image",serial:1},iconCropperData:{width:100,height:100,placeholder:"Image (100X100)",file_size:.5,init_image:"",folder:"category",modal_type:2,modal_id:"icon_image",serial:3},removeImage:!1,btnDisabled:!1}},created:function(){this.getTreeListCategories(),this.isedit&&this.getCategoryData(this.categoryid)},methods:c({},Object(r.b)(["getTreeListCategories","storeCategory","updateCategory","getCategoryData"]),{manipulateCategoryData:function(){var e=$(".".concat(this.cropperData.modal_id)).val(),t=$(".".concat(this.iconCropperData.modal_id)).val();void 0!==e&&""!==e&&(this.formValue.banner_id=e),void 0!==t&&""!==t&&(console.log(t),this.formValue.icon_id=t),this.isedit?this.updateCategory(this.formValue).then((function(e){void 0!==e.code&&201===e.code?(Notify.success(e.message),e.hasOwnProperty("url")&&(location.href=e.url)):"validation"===e.status?Notify.validation(e.message):Notify.error(e.message)})):this.storeCategory(this.formValue).then((function(e){void 0!==e.code&&201===e.code?(Notify.success(e.message),e.hasOwnProperty("url")&&(location.href=e.url)):"validation"===e.status?Notify.validation(e.message):Notify.error(e.message)}))},emptyFormData:function(){this.formValue.parent_id=null,this.formValue.category_name="",this.formValue.category_status=!1,this.formValue.banner_id="",this.formValue.icon_id="",this.removeImage=!0}}),computed:c({},Object(r.c)(["treeList","category"]),{categoryCheck:function(){return JSON.parse(JSON.stringify(this.category))}}),watch:{categoryCheck:{handler:function(e,t){e!==t&&(this.formValue.id=this.category.id,this.formValue.parent_id=this.category.parent_id,this.formValue.category_name=this.category.name,1===this.category.status&&(this.formValue.category_status=!0),1===this.category.in_header&&(this.formValue.in_header=!0),this.category.attachment&&(this.formValue.banner_id=this.category.banner_id,this.cropperData.init_image=this.category.attachment.image_path),null===this.category.parent_id&&this.category.iconImage&&(this.formValue.icon_id=this.category.iconImage.attachment_id,this.iconCropperData.init_image=this.category.iconImage.image_path))},deep:!0}}},m=a(2),u=Object(m.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"panel panel-info"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body"},[a("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.manipulateCategoryData(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Parent Category:")]),e._v(" "),a("treeselect",{attrs:{options:e.treeList,normalizer:e.normalizer},model:{value:e.formValue.parent_id,callback:function(t){e.$set(e.formValue,"parent_id",t)},expression:"formValue.parent_id"}})],1)]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Category Name:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formValue.category_name,expression:"formValue.category_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Category Name ",required:""},domProps:{value:e.formValue.category_name},on:{input:function(t){t.target.composing||e.$set(e.formValue,"category_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Category Show In:")]),e._v(" "),a("label",{staticClass:"checkbox-style checkbox-inline",attrs:{for:"in_header"}},[e.formValue.in_header?a("span",{staticClass:"text-bold text-success"},[e._v("Show In Header")]):a("span",{staticClass:"text-bold text-warning"},[e._v("Not Show In Header")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formValue.in_header,expression:"formValue.in_header"}],attrs:{type:"checkbox",id:"in_header"},domProps:{checked:e.formValue.in_header,checked:Array.isArray(e.formValue.in_header)?e._i(e.formValue.in_header,null)>-1:e.formValue.in_header},on:{change:function(t){var a=e.formValue.in_header,r=t.target,i=!!r.checked;if(Array.isArray(a)){var o=e._i(a,null);r.checked?o<0&&e.$set(e.formValue,"in_header",a.concat([null])):o>-1&&e.$set(e.formValue,"in_header",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.formValue,"in_header",i)}}}),e._v(" "),a("span",{staticClass:"checkmark"})])])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Category Status:")]),e._v(" "),a("label",{staticClass:"checkbox-style",attrs:{for:"status"}},[e.formValue.category_status?a("span",{staticClass:"text-bold text-success"},[e._v("Active")]):a("span",{staticClass:"text-bold text-warning"},[e._v("Inactive")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formValue.category_status,expression:"formValue.category_status"}],attrs:{type:"checkbox",id:"status"},domProps:{checked:e.formValue.category_status,checked:Array.isArray(e.formValue.category_status)?e._i(e.formValue.category_status,null)>-1:e.formValue.category_status},on:{change:function(t){var a=e.formValue.category_status,r=t.target,i=!!r.checked;if(Array.isArray(a)){var o=e._i(a,null);r.checked?o<0&&e.$set(e.formValue,"category_status",a.concat([null])):o>-1&&e.$set(e.formValue,"category_status",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.formValue,"category_status",i)}}}),e._v(" "),a("span",{staticClass:"checkmark"})])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Category Banner:")]),e._v(" "),a("image-cropper",{attrs:{cropperData:e.cropperData,removeImage:e.removeImage}})],1)]),e._v(" "),e.formValue.parent_id?e._e():a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Category Icon:")]),e._v(" "),a("image-cropper",{attrs:{cropperData:e.iconCropperData,removeImage:e.removeImage}})],1)]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"2em"},attrs:{type:"submit",disabled:e.btnDisabled}},[1===e.isedit?a("span",[e._v("Update Category ")]):a("span",[e._v("Save Category ")]),e._v(" "),a("i",{staticClass:"icon-arrow-right14 position-right"})])])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-heading"},[t("h5",{staticClass:"panel-title"},[this._v("Category")]),this._v(" "),t("div",{staticClass:"heading-elements"})])}],!1,null,"ac42f1d6",null);t.default=u.exports}}]);