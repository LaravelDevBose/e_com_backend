(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{47:function(t,a,e){"use strict";e.r(a);var s=e(27),r=e(0),n=e(5);function i(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?i(e,!0).forEach((function(a){o(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function o(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var d={name:"Brand",components:{Attachment:s.default,ImageCropper:n.default},data:function(){return{formData:{id:"",brand_name:"",brand_status:"",attachment_id:""},cropperData:{width:200,height:200,placeholder:"Choose a image in 200X200",file_size:1,init_image:"",folder:"brand",modal_type:1},removeImage:!1,btnDisabled:!1,isedit:!1}},created:function(){this.getBrands()},methods:c({},Object(r.b)(["getBrands","storeBrand","deleteBrand","updateBrandInfo"]),{manipulateBrandData:function(){var t=this;0!==this.cropImageIds.length&&""!==this.cropImageIds[0]&&(this.formData.attachment_id=this.cropImageIds[0]),this.isedit?this.updateBrandInfo(this.formData).then((function(a){void 0!==a.code&&200===a.code?(Notify.success(a.message),t.isedit=!1,t.formReset()):"validation"===a.status?Notify.validation(a.message):Notify.error(a.message)})).catch((function(t){Notify.info(t.message)})):this.storeBrand(this.formData).then((function(a){console.log(a),"success"===a.status?(Notify.success(a.message),t.formReset()):"validation"===a.status?Notify.validation(a.message):Notify.error(a.message)})).catch((function(t){Notify.info(t.message)}))},formReset:function(){this.formData.brand_name="",this.formData.brand_status=!1,this.formData.attachment_id="",this.removeImage=!0},brandDelete:function(t){if(!confirm("Are You Sure..?"))return!1;this.deleteBrand(t).then((function(t){"success"===t.status?Notify.success(t.message):Notify.error(t.message)}))},editBrand:function(t){var a=this;this.brands.filter((function(e){return e.id===t&&(a.isedit=!0,a.formData.id=e.id,a.formData.brand_name=e.name,a.formData.brand_status=e.status,e.attachment&&(a.formData.attachment_id=e.attachment.attachment_id,a.cropperData.init_image=e.attachment.image_path)),e}))}}),computed:c({},Object(r.c)(["brands","cropImageIds"]),{checkFormData:function(){return JSON.parse(JSON.stringify(this.formData))}}),watch:{checkFormData:{handler:function(t,a){a!==t&&(this.btnDisabled=!1)},deep:!0}}},l=e(2),m=Object(l.a)(d,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"panel panel-info"},[t._m(0),t._v(" "),e("div",{staticClass:"panel-body"},[e("form",{attrs:{action:""},on:{submit:function(a){return a.preventDefault(),t.manipulateBrandData(a)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Brand Name:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.brand_name,expression:"formData.brand_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Brand Name ",required:""},domProps:{value:t.formData.brand_name},on:{input:function(a){a.target.composing||t.$set(t.formData,"brand_name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Brand Banner:")]),t._v(" "),e("image-cropper",{attrs:{cropperData:t.cropperData,removeImage:t.removeImage,initImage:t.cropperData.init_image}})],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Brand Status:")]),t._v(" "),e("label",{staticClass:"checkbox-style",attrs:{for:"paypal_payment"}},[t.formData.brand_status?e("span",{staticClass:"text-bold text-success"},[t._v("Active")]):e("span",{staticClass:"text-bold text-warning"},[t._v("Inactive")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.brand_status,expression:"formData.brand_status"}],attrs:{type:"checkbox",id:"paypal_payment"},domProps:{checked:t.formData.brand_status,checked:Array.isArray(t.formData.brand_status)?t._i(t.formData.brand_status,null)>-1:t.formData.brand_status},on:{change:function(a){var e=t.formData.brand_status,s=a.target,r=!!s.checked;if(Array.isArray(e)){var n=t._i(e,null);s.checked?n<0&&t.$set(t.formData,"brand_status",e.concat([null])):n>-1&&t.$set(t.formData,"brand_status",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.formData,"brand_status",r)}}}),t._v(" "),e("span",{staticClass:"checkmark"})])]),t._v(" "),e("div",{staticClass:"text-right form-group"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.btnDisabled}},[t.isedit?e("span",[t._v("Update Brand")]):e("span",[t._v("Save Brand")]),t._v(" "),e("i",{staticClass:"icon-arrow-right14 position-right"})])])])])])])]),t._v(" "),e("div",{staticClass:"panel panel-flat"},[t._m(1),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-sm"},[t._m(2),t._v(" "),e("tbody",t._l(t.brands,(function(a,s){return t.brands?e("tr",{key:a.id},[e("td",[t._v(t._s(s))]),t._v(" "),e("td",{staticStyle:{padding:"5px",width:"120px"}},[a.attachment?e("img",{staticClass:"img-preview img-responsive",staticStyle:{width:"100px",height:"35px"},attrs:{src:a.attachment.image_path,alt:a.name}}):t._e()]),t._v(" "),e("td",[e("span",{staticClass:"text text-bold"},[t._v(" "+t._s(a.name))])]),t._v(" "),e("td",{staticClass:"text text-center"},[1===a.status?e("span",{staticClass:"badge badge-success"},[t._v("Active")]):3===a.status?e("span",{staticClass:"badge badge-primary"},[t._v("Requested")]):e("span",{staticClass:"badge badge-warning"},[t._v("Inactive")])]),t._v(" "),e("td",{staticClass:"text text-center"},[e("ul",{staticClass:"icons-list"},[e("li",{staticClass:"text-primary-600"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editBrand(a.id)}}},[e("i",{staticClass:"icon-pencil7"})])]),t._v(" "),e("li",{staticClass:"text-danger-600"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.brandDelete(a.id)}}},[e("i",{staticClass:"icon-trash"})])])])])]):t._e()})),0)])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h5",{staticClass:"panel-title"},[this._v("Brand")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h5",{staticClass:"panel-title"},[this._v("Brand List")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),e("th",{staticStyle:{padding:"5px"}},[t._v("Banner Image")]),t._v(" "),e("th",[t._v("Brand Name")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Status")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Action")])])])}],!1,null,"b93ffdfe",null);a.default=m.exports}}]);